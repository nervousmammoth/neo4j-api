---
**Status:** To Do
**Priority:** P4
**Branch:** `feature/P4.6-Housekeeping-Docs`
---

## Overview

Housekeeping & Integration Test Documentation
**Phase:** Documentation

The working directory has several uncommitted files and changes that should be properly committed. Additionally, the integration testing infrastructure (Docker Compose) is not documented in the README.

## User Story

**As a** developer
**I want** a clean repository with all changes properly committed and integration testing documented
**So that** I can work efficiently, track changes clearly, and run tests reliably without confusion

### Uncommitted Changes
1. `.env.test` - Test environment configuration
2. `docker-compose.test.yml` - Integration test infrastructure
3. `tests/integration/` - Integration test directory
4. `issues/completed/11-databases-list-endpoint.md` - Moved issue file
5. Various modified files (fixtures/README.md, pyproject.toml, scripts/pre-push.template)

### Missing Documentation
- README.md doesn't explain how to run integration tests
- No documentation for docker-compose.test.yml usage

## Related Specifications
- N/A - This is housekeeping and documentation

## Dependencies
- None - Can be done independently (recommended to do FIRST)

---

## TDD Workflow Checklist

This is a documentation/housekeeping task, so TDD doesn't strictly apply. Instead:

### 1Ô∏è‚É£ Review Current State
- [ ] Run `git status` to see all uncommitted changes
- [ ] Review each file to understand what needs to be committed
- [ ] Decide on appropriate commit groupings

### 2Ô∏è‚É£ Commit Pending Changes
- [ ] Commit issue #11 completion (move to completed folder)
- [ ] Commit test infrastructure files (.env.test, docker-compose.test.yml)
- [ ] Commit integration test directory
- [ ] Commit any other modified files with appropriate messages

### 3Ô∏è‚É£ Update Documentation
- [ ] Add "Integration Testing" section to README.md
- [ ] Document docker-compose.test.yml usage
- [ ] Document how to run integration tests

### 4Ô∏è‚É£ Verify Clean State
- [ ] Run `git status` - should show clean working directory
- [ ] Run `pre-commit run --all-files` - all checks should pass

---

## Acceptance Criteria

### Functional Requirements
- [ ] Working directory is clean (`git status` shows nothing)
- [ ] All relevant files are committed with proper messages
- [ ] README documents integration testing setup

### Documentation Requirements
- [ ] README has "Integration Testing" section
- [ ] Docker Compose usage is explained
- [ ] Commands for running integration tests are provided

### Code Quality Gates
- [ ] Pre-commit hooks pass
- [ ] No uncommitted changes remain

---

## Implementation Notes

### Files to Commit
```
.env.test                                    # Test environment config
docker-compose.test.yml                      # Docker Compose for tests
tests/integration/                           # Integration test directory
issues/completed/11-databases-list-endpoint.md  # Moved issue
fixtures/README.md                           # Modified
pyproject.toml                               # Modified
scripts/pre-push.template                    # Modified
```

### README Section to Add

Add this section after "Running Tests":

```markdown
## Integration Testing

Integration tests require a running Neo4j instance. Use Docker Compose for a consistent test environment:

### Start Test Infrastructure
```bash
# Start Neo4j for integration tests
docker-compose -f docker-compose.test.yml up -d

# Wait for Neo4j to be ready (about 30 seconds)
docker-compose -f docker-compose.test.yml logs -f
# Look for "Started." message
```

### Run Integration Tests
```bash
# Run all integration tests
pytest tests/integration/ -v

# Run with specific Neo4j connection
NEO4J_URI=bolt://localhost:7691 pytest tests/integration/ -v
```

### Stop Test Infrastructure
```bash
docker-compose -f docker-compose.test.yml down

# Remove volumes (clean slate)
docker-compose -f docker-compose.test.yml down -v
```

### Test Environment Variables
Copy `.env.test` and customize if needed:
```bash
cp .env.test .env.test.local
# Edit .env.test.local with your settings
```
```

### Commit Strategy
```bash
# 1. Commit issue #11 completion
git add issues/completed/11-databases-list-endpoint.md
git rm issues/P0.11-databases-list-endpoint.md
git commit -m "chore(P0.11): move completed issue to completed folder"

# 2. Commit test infrastructure
git add .env.test docker-compose.test.yml tests/integration/
git commit -m "feat(P4.6): add integration test infrastructure"

# 3. Commit documentation updates
git add README.md
git commit -m "docs(P4.6): add integration testing section to README"

# 4. Commit any remaining changes
git add .
git commit -m "chore(P4.6): misc housekeeping updates"
```

---

## Git Workflow

### Start Issue
```bash
git checkout main
git pull origin main
git checkout -b feature/P4.6-housekeeping-docs
```

### During Development
```bash
# Follow commit strategy above
# Push when done
git push origin feature/P4.6-housekeeping-docs
```

### Create Pull Request
```bash
gh pr create \
  --title "chore: housekeeping and integration test documentation" \
  --body "$(cat <<'EOF'
## Summary
- Commits all pending changes with appropriate messages
- Adds integration testing documentation to README

## Changes
- Committed test infrastructure (docker-compose.test.yml, .env.test)
- Committed integration test directory
- Moved issue #11 to completed folder
- Added "Integration Testing" section to README

## Testing
- [x] Pre-commit hooks pass
- [x] Working directory clean

## Closes
Closes #40

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
EOF
)"
```

### After Merge
```bash
mv issues/P4.6-housekeeping-docs.md issues/completed/
git checkout main
git pull origin main
```

---

## Verification Commands

```bash
# Check git status is clean
git status

# Verify pre-commit passes
pre-commit run --all-files

# Test docker-compose configuration is valid
docker-compose -f docker-compose.test.yml config
```

---

## Notes
This should ideally be done FIRST before other code quality issues. Starting with a clean working directory makes the other issues easier to track and prevents confusion about what changes belong to which issue.
